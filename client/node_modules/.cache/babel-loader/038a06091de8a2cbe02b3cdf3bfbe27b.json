{"ast":null,"code":"var _jsxFileName = \"/Users/as/Desktop/Co-Founder/client/src/routes/article/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Style from \"./Article.module.css\";\nimport Blogheader from \"../../components/blogheader/index\";\nimport ReactMarkdown from \"react-markdown\";\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\nimport { API } from \"../../backend\";\n\nconst Article = () => {\n  // let history = useHistory();\n  // const [article, setArticle] = useState({});\n  // const { slug } = useParams();\n  // useEffect(() => {\n  //   getDataBySlug(slug);\n  // }, [slug]);\n  // const getDataBySlug = async (slug) => {\n  //   try {\n  //     const res = await axios.get(`${API}/api/post/${slug}`);\n  //     setArticle(res.data);\n  //   } catch (err) {\n  //     console.log({ error: err });\n  //   }\n  // };\n  // const deleteArticle = async (id) => {\n  //   if (window.confirm(\"Do you wanna delete this article?\")) {\n  //     try {\n  //       axios.defaults.headers.common[\"Authorization\"] = sessionStorage.token;\n  //       await axios.delete(\n  //         `https://rhodlib-blog.herokuapp.com/api/delete/${id}`\n  //       );\n  //       history.push(\"/\");\n  //     } catch (err) {\n  //       console.log({ error: err });\n  //     }\n  //   }\n  // };\n  // const editDeleteArticle = (id) => {\n  //   if (sessionStorage.token) {\n  //     return (\n  //       <div className={Style.buttons}>\n  //         <button\n  //           onClick={() => deleteArticle(id)}\n  //           className={Style.linkButton}\n  //         >\n  //           Delete\n  //         </button>\n  //         <button\n  //           onClick={() => history.push(`/edit/${slug}`)}\n  //           className={Style.linkButton}\n  //         >\n  //           Edit\n  //         </button>\n  //       </div>\n  //     );\n  //   }\n  // };\n  const [article, setArticle] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n\n  const getData = () => {\n    fetch(`${API}/api/post`).then(response => {\n      return response.json();\n    }).then(data => {\n      setPosts(data);\n    }).catch(err => {\n      return console.log(err);\n    });\n  };\n\n  getData();\n  console.log(post);\n\n  const getPostById = () => {\n    return fetch(`${API}/api/post/:postId`);\n  };\n\n  const renderMarkdown = () => {\n    if (article.markdown === undefined) {\n      return /*#__PURE__*/React.createElement(SkeletonTheme, {\n        color: \"#161f27\",\n        highlightColor: \"#324759\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        count: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(ReactMarkdown, {\n        className: Style.markdown,\n        source: article.markdown,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: Style.article,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: Style.controlHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Blogheader, {\n    title: article.title,\n    description: article.description,\n    createdAt: article.createdAt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }), renderMarkdown());\n};\n\nexport default Article;","map":{"version":3,"sources":["/Users/as/Desktop/Co-Founder/client/src/routes/article/index.js"],"names":["React","useEffect","useState","useHistory","useParams","axios","Style","Blogheader","ReactMarkdown","Skeleton","SkeletonTheme","API","Article","article","setArticle","posts","setPosts","getData","fetch","then","response","json","data","catch","err","console","log","post","getPostById","renderMarkdown","markdown","undefined","controlHeader","title","description","createdAt"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAOC,QAAP,IAAmBC,aAAnB,QAAwC,wBAAxC;AACA,SAASC,GAAT,QAAoB,eAApB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AACpB;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMe,OAAO,GAAG,MAAM;AACpBC,IAAAA,KAAK,CAAE,GAAEP,GAAI,WAAR,CAAL,CACGQ,IADH,CACSC,QAAD,IAAc;AAClB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAHH,EAIGF,IAJH,CAISG,IAAD,IAAU;AACdN,MAAAA,QAAQ,CAACM,IAAD,CAAR;AACD,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS;AACd,aAAOC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAP;AACD,KATH;AAUD,GAXD;;AAaAP,EAAAA,OAAO;AACPQ,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;;AAEA,QAAMC,WAAW,GAAG,MAAM;AACxB,WAAOV,KAAK,CAAE,GAAEP,GAAI,mBAAR,CAAZ;AACD,GAFD;;AAGA,QAAMkB,cAAc,GAAG,MAAM;AAC3B,QAAIhB,OAAO,CAACiB,QAAR,KAAqBC,SAAzB,EAAoC;AAClC,0BACE,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAC,SAArB;AAA+B,QAAA,cAAc,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD,KAND,MAMO;AACL,0BACE,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAEzB,KAAK,CAACwB,QAAhC;AAA0C,QAAA,MAAM,EAAEjB,OAAO,CAACiB,QAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AACF,GAZD;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAExB,KAAK,CAACO,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEP,KAAK,CAAC0B,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAEnB,OAAO,CAACoB,KADjB;AAEE,IAAA,WAAW,EAAEpB,OAAO,CAACqB,WAFvB;AAGE,IAAA,SAAS,EAAErB,OAAO,CAACsB,SAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAUGN,cAAc,EAVjB,CADF;AAcD,CAtGD;;AAwGA,eAAejB,OAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Style from \"./Article.module.css\";\nimport Blogheader from \"../../components/blogheader/index\";\nimport ReactMarkdown from \"react-markdown\";\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\nimport { API } from \"../../backend\";\n\nconst Article = () => {\n  // let history = useHistory();\n  // const [article, setArticle] = useState({});\n  // const { slug } = useParams();\n\n  // useEffect(() => {\n  //   getDataBySlug(slug);\n  // }, [slug]);\n\n  // const getDataBySlug = async (slug) => {\n  //   try {\n  //     const res = await axios.get(`${API}/api/post/${slug}`);\n  //     setArticle(res.data);\n  //   } catch (err) {\n  //     console.log({ error: err });\n  //   }\n  // };\n\n  // const deleteArticle = async (id) => {\n  //   if (window.confirm(\"Do you wanna delete this article?\")) {\n  //     try {\n  //       axios.defaults.headers.common[\"Authorization\"] = sessionStorage.token;\n  //       await axios.delete(\n  //         `https://rhodlib-blog.herokuapp.com/api/delete/${id}`\n  //       );\n  //       history.push(\"/\");\n  //     } catch (err) {\n  //       console.log({ error: err });\n  //     }\n  //   }\n  // };\n\n  // const editDeleteArticle = (id) => {\n  //   if (sessionStorage.token) {\n  //     return (\n  //       <div className={Style.buttons}>\n  //         <button\n  //           onClick={() => deleteArticle(id)}\n  //           className={Style.linkButton}\n  //         >\n  //           Delete\n  //         </button>\n  //         <button\n  //           onClick={() => history.push(`/edit/${slug}`)}\n  //           className={Style.linkButton}\n  //         >\n  //           Edit\n  //         </button>\n  //       </div>\n  //     );\n  //   }\n  // };\n  const [article, setArticle] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n\n  const getData = () => {\n    fetch(`${API}/api/post`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        setPosts(data);\n      })\n      .catch((err) => {\n        return console.log(err);\n      });\n  };\n \n  getData();\n  console.log(post);\n\n  const getPostById = () => {\n    return fetch(`${API}/api/post/:postId`);\n  };\n  const renderMarkdown = () => {\n    if (article.markdown === undefined) {\n      return (\n        <SkeletonTheme color=\"#161f27\" highlightColor=\"#324759\">\n          <Skeleton count={15} />\n        </SkeletonTheme>\n      );\n    } else {\n      return (\n        <ReactMarkdown className={Style.markdown} source={article.markdown} />\n      );\n    }\n  };\n\n  return (\n    <div className={Style.article}>\n      <div className={Style.controlHeader}>\n        <Blogheader\n          title={article.title}\n          description={article.description}\n          createdAt={article.createdAt}\n        />\n        {/* {editDeleteArticle(article._id)} */}\n      </div>\n      <hr />\n      {renderMarkdown()}\n    </div>\n  );\n};\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}